---
title: "Session 1 - Introduction to RStudio"
author: "Joey Hulbert"
date: "February 14, 2019"
output: 
  html_document:
    toc: TRUE 
    toc_depth: 5
    toc_float:
      collapsed: TRUE
---
<script>
    $(document).ready(function() {
      $items = $('div#TOC li');
      $items.each(function(idx) {
        num_ul = $(this).parentsUntil('#TOC').length;
        $(this).css({'text-indent': num_ul * 10, 'padding-left': 0});
      });
    });
</script>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r include=FALSE}
library(tidyverse)
library(knitr)
```


##Introduction
 
The purpose of this page is to provide additional information for the first session of our RStudio and R::packages workshop series. It is not designed as a stand alone resource, but rather to compliment our session. 


##Data organization

We need to format our data so that R will read it correctly. 

Our data should be set up as a rectangle with observations (samples) in rows and variables (treatment groups, results, etc.) in columns. Below is an example:

```{r echo=FALSE}
df <- data.frame(Sample = 1:12,Trial = c('A','A','A','A','A','A','B','B','B','B','B','B'),Treatment = rep(c('Control','Control','Control','Infected','Infected','Infected'),2),Result = runif(12))
knitr::kable(df,align='c')
```

Now that our data is ready for R, we need to install R and RStudio.

##Install R and RStudio
* Note that [RStudio](https://www.rstudio.com/) requires [R](https://www.r-project.org/) to be installed.
    + First download and install R: https://ftp.osuosl.org/pub/cran/
    + Then download and install RStudio: https://www.rstudio.com/products/rstudio/download/#download

It is best if we have the latest versions of R (3.5.2) and RStudio (1.1.463). 

To find your RStudio version go to the menu: *RStudio >> About RStudio*

Run the below code to find your R version. 

```{r}
getRversion()
```

or

```{r}
sessionInfo()
```

##RStudio interface

* RStudio Panes
    + Source
    + Console
    + Environment, Plots, Help, Viewer
    + History, Files, Connections, Packages

Rearranage panes - You can rearrange the panes to your preference in *RStudio >> Preferences >> Pane Layout*

Appearance - You can also change the appearance to various themes or dark modes in *RStudio >> Preferences >> Appearance*


##Packages

R packages are collections of functions and documentation that can be reproduced and used with multiple datasets.

[*PoppR*](https://github.com/grunwaldlab/poppr) is an example of a popular package that was created by a MS student and friend. 

In general, we need to install packages before we can use them. In this workshop series, we will use the *Tidyverse* package. The [Tidyverse](https://www.tidyverse.org/) is a collection of packages that we will use to keep our data tidy. It includes ggplot2 and dplyr, the two packages we will use in the next two sessions. 

We can install the package by running the code below:

```{r eval=FALSE}
install.packages("tidyverse")
```

Note that you only need to install this package in RStudio one time. Once it is installed, you can simply load the package (see below) anytime you want to use it.

##Projects

Next we can get into one of the best features of RStudio, projects. Projects provide a powerful means to keep your data organized. You can think of projects as a folder or directory. 

I generally create a new project for each chapter or manuscript. 

###Set working directories

###Create R script

###Load Packages

###Run Code

###Importing data

name <- read.csv('./data/'FILENAME.csv')

###R code basics

Make notes

Use outline

Reference column in data

ls() list everything in environment

rm() removes from environment

str()
names()
levels(data$column)

rename a column
x$y <- x$z

Change data from R

library(stringr)
arthropod$Cultivar <-str_replace_all(arthropod$Cultivar,"Jewel ","Jewel")
arthropod$Cultivar <-str_replace_all(arthropod$Cultivar,"Star ","Star")
arthropod$Field <-str_replace_all(arthropod$Field,"Open ","Open")



##Package Cheat Sheets


